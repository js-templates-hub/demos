import{bj as l,b4 as b,aK as f,aL as p,J as w,aw as y,am as d,Y as u,a9 as S,b9 as j,Z as g,az as m,aF as F}from"./runtime-core.esm-bundler.CmxlBTzl.js";function R(t){return g()?(m(t),!0):!1}const a=new WeakMap,O=(...t)=>{var e;const o=t[0],n=(e=u())==null?void 0:e.proxy;if(n==null)throw new Error("injectLocal must be called in setup");return a.has(n)&&o in a.get(n)?a.get(n)[o]:S(...t)},P=(t,e)=>{var o;const n=(o=u())==null?void 0:o.proxy;if(n==null)throw new Error("provideLocal must be called in setup");a.has(n)||a.set(n,Object.create(null));const s=a.get(n);s[t]=e,F(t,e)};function T(t,e){const o=Symbol(t.name||"InjectionState"),n=void 0;return[(...i)=>{const c=t(...i);return P(o,c),c},()=>O(o,n)]}function D(t){return typeof t=="function"?t():j(t)}const E=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const L=Object.prototype.toString,G=t=>L.call(t)==="[object Object]",k=()=>{};function I(t,e){function o(...n){return new Promise((s,r)=>{Promise.resolve(t(()=>e.apply(this,n),{fn:e,thisArg:this,args:n})).then(s).catch(r)})}return o}const v=t=>t();function W(t=v){const e=p(!0);function o(){e.value=!1}function n(){e.value=!0}const s=(...r)=>{e.value&&t(...r)};return{isActive:f(e),pause:o,resume:n,eventFilter:s}}function x(t){return u()}function V(...t){if(t.length!==1)return b(...t);const e=t[0];return typeof e=="function"?f(w(()=>({get:e,set:k}))):p(e)}function A(t,e,o={}){const{eventFilter:n=v,...s}=o;return l(t,I(n,e),s)}function _(t,e,o={}){const{eventFilter:n,...s}=o,{eventFilter:r,pause:i,resume:c,isActive:h}=W(n);return{stop:A(t,e,{...s,eventFilter:r}),pause:i,resume:c,isActive:h}}function z(t,e=!0,o){x()?y(t,o):e?t():d(t)}function J(t,e,o){const n=l(t,(...s)=>(d(()=>n()),e(...s)),o);return n}export{z as a,D as b,R as c,G as d,T as e,J as f,E as i,k as n,V as t,_ as w};
